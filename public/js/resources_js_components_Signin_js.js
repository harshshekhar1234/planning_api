"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["resources_js_components_Signin_js"],{

/***/ "./resources/js/components/Home/Component/Footer.js":
/*!**********************************************************!*\
  !*** ./resources/js/components/Home/Component/Footer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../configuration */ "./resources/js/components/configuration.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");





function Footer() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("footer", {
    className: "pv4 ph3 ph5-m ph6-l white fbcolor",
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("small", {
      className: "f6 db tc",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("b", {
        className: "ttu",
        children: ["Developed and Maintained by ", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a", {
          href: "https://japit.jharkhand.gov.in/",
          target: "_blank",
          className: "dib ph1 dim",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("img", {
            src: "".concat(_configuration__WEBPACK_IMPORTED_MODULE_1__.img_url, "japit.jpg"),
            className: "kdib",
            alt: "Site Name"
          })
        })]
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span", {
        children: "\xA9 2022"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("br", {}), "All Rights Reserved"]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div", {
      className: "tc mt3",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a", {
        href: "/",
        title: "Language",
        className: "f6 dib ph2 link white-80 dim",
        children: "Language"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a", {
        href: "/",
        title: "Terms",
        className: "f6 dib ph2 link white-80 dim",
        children: "Terms of Use"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a", {
        href: "/",
        title: "Privacy",
        className: "f6 dib ph2 link white-80 dim",
        children: "Privacy"
      })]
    })]
  });
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Footer);

/***/ }),

/***/ "./resources/js/components/Home/Component/Header.js":
/*!**********************************************************!*\
  !*** ./resources/js/components/Home/Component/Header.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/index.js");
/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../configuration */ "./resources/js/components/configuration.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");






function Header() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("nav", {
      className: "kdb kdt-l kw-100 kborder-box kpa3 kph5-l",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Link, {
        className: "kdb kdtc-l kv-mid kmid-gray klink kdim kw-100 w-10-l ktc ktl-l kmb2 kmb0-l",
        to: "/",
        title: "Home",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("img", {
          src: "".concat(_configuration__WEBPACK_IMPORTED_MODULE_1__.img_url, "logo3.png"),
          className: "kdib w4 h4 kbr-100",
          alt: "Site Name"
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("h2", {
        className: "hcolor kdb kdtc-l kv-mid kw-100 kw-25-l ktc center",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("strong", {
          children: ["Department of Planning and Development", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("br", {}), "Government of Jharkhand"]
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div", {
        className: "kdb kdtc-l kv-mid kw-100 w-10-l ktc ktr-l",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Link, {
          className: "klink kdim kdark-gray kf6 kf5-l kdib kmr3 b",
          to: "/home/about",
          title: "About",
          children: "About"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Link, {
          className: "klink kdim kdark-gray kf6 kf5-l kdib kmr3 b",
          to: "/login",
          title: "Store",
          children: "Sign In"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Link, {
          className: "klink kdim kdark-gray kf6 kf5-l kdib kmr3 b ba pa2 b--light-silver w4 tc",
          to: "/home/publicdashboard",
          title: "Contact",
          children: "MIS"
        })]
      })]
    })
  });
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Header);

/***/ }),

/***/ "./resources/js/components/Signin.js":
/*!*******************************************!*\
  !*** ./resources/js/components/Signin.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _store_signinSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store/signinSlice */ "./resources/js/components/store/signinSlice.js");
/* harmony import */ var _store_signin_action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./store/signin-action */ "./resources/js/components/store/signin-action.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/index.js");
/* harmony import */ var _Home_Component_Header__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Home/Component/Header */ "./resources/js/components/Home/Component/Header.js");
/* harmony import */ var _Home_Component_Footer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Home/Component/Footer */ "./resources/js/components/Home/Component/Footer.js");
/* harmony import */ var _store_errorSlice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./store/errorSlice */ "./resources/js/components/store/errorSlice.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");












var Signin = function Signin() {
  var navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate)();
  var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
  var email = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (state) {
    return state.signin.email;
  });
  var password = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (state) {
    return state.signin.password;
  });
  var message = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (state) {
    return state.signin.message;
  });
  var role = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (state) {
    return state.user.role;
  });
  var isSignedIn = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (state) {
    return state.user.isSignedIn;
  });
  var error = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (state) {
    return state.error.error;
  }); // const [email, setEmail] = useState('');
  // const [password, setPassword] = useState('');

  var onEmailChangeHandler = function onEmailChangeHandler(event) {
    dispatch(_store_signinSlice__WEBPACK_IMPORTED_MODULE_2__.signinActions.setEmail({
      email: event.target.value
    }));
  };

  var onPasswordChangeHandler = function onPasswordChangeHandler(event) {
    dispatch(_store_signinSlice__WEBPACK_IMPORTED_MODULE_2__.signinActions.setPassword({
      password: event.target.value
    }));
  };

  var onSubmitHandler = function onSubmitHandler() {
    dispatch((0,_store_signin_action__WEBPACK_IMPORTED_MODULE_3__.sendSigninData)(email, password));
  };

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return function () {
      dispatch(_store_signinSlice__WEBPACK_IMPORTED_MODULE_2__.signinActions.setEmail({
        email: ''
      }));
      dispatch(_store_signinSlice__WEBPACK_IMPORTED_MODULE_2__.signinActions.setPassword({
        password: ''
      }));
      dispatch(_store_signinSlice__WEBPACK_IMPORTED_MODULE_2__.signinActions.setMessage({
        message: ''
      }));
    };
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (isSignedIn === true) {
      if (role === 'admin') {
        return navigate("/dashboard/main");
      }

      if (role === 'user') {
        return navigate("/dashboarddeptuser/main");
      }

      if (role === 'verifier') {
        return navigate("/dashboardverifier/main");
      }
    }
  }, [isSignedIn]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (error) {
      return navigate("/errorpage");
    }

    return function () {
      dispatch(_store_errorSlice__WEBPACK_IMPORTED_MODULE_6__.errorActions.setError({
        error: false
      }));
    };
  }, [error]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Home_Component_Header__WEBPACK_IMPORTED_MODULE_4__["default"], {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div", {
      className: "pa3 mt4 mb7 measure center shadow-2",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("legend", {
        className: "mh2",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("h2", {
          className: "b",
          children: "Log In"
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div", {
        className: "form-group mb3",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("label", {
          htmlFor: "exampleInputEmail1",
          className: "b",
          children: "Email address"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("input", {
          type: "email",
          className: "form-control",
          id: "exampleInputEmail1",
          "aria-describedby": "emailHelp",
          placeholder: "Enter email",
          name: "email",
          value: email,
          onChange: onEmailChangeHandler
        })]
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div", {
        className: "form-group",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("label", {
          htmlFor: "exampleInputPassword1",
          className: "b",
          children: "Password"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("input", {
          type: "password",
          className: "form-control",
          id: "exampleInputPassword1",
          placeholder: "Password",
          name: "password",
          value: password,
          onChange: onPasswordChangeHandler
        })]
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("button", {
        type: "submit",
        className: "btn btn-primary mb4 mt3",
        onClick: onSubmitHandler,
        children: "Submit"
      }), message && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p", {
        className: "alert alert-primary",
        children: message
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Home_Component_Footer__WEBPACK_IMPORTED_MODULE_5__["default"], {})]
  });
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Signin);

/***/ }),

/***/ "./resources/js/components/store/signin-action.js":
/*!********************************************************!*\
  !*** ./resources/js/components/store/signin-action.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "sendSigninData": () => (/* binding */ sendSigninData),
/* harmony export */   "logout": () => (/* binding */ logout)
/* harmony export */ });
/* harmony import */ var _signinSlice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./signinSlice */ "./resources/js/components/store/signinSlice.js");
/* harmony import */ var _userSlice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./userSlice */ "./resources/js/components/store/userSlice.js");
/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../configuration */ "./resources/js/components/configuration.js");
/* harmony import */ var _errorSlice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errorSlice */ "./resources/js/components/store/errorSlice.js");




var sendSigninData = function sendSigninData(email, password) {
  return function (dispatch) {
    fetch("".concat(_configuration__WEBPACK_IMPORTED_MODULE_2__.laravel_api, "login"), {
      method: 'post',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        email: email,
        password: password,
        password_confirmation: password
      })
    }).then(function (response) {
      return response.json();
    }).then(function (res) {
      if (res.status === 200) {
        localStorage.setItem('access_token', res.access_token);
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setEmail({
          email: res.user.email
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setName({
          name: res.user.name
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setDepartmentId({
          departmentId: res.user.departmentId
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setDivisionId({
          divisionId: res.user.divisionId
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setRole({
          role: res.user.role
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setId({
          id: res.user.id
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setSignedIn({
          isSignedIn: true
        }));
        dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setEmail({
          email: ''
        }));
        dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setPassword({
          password: ''
        }));
        dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setMessage({
          message: 'You have been successfuly Signed In'
        }));
      } else {
        dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setEmail({
          email: ''
        }));
        dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setPassword({
          password: ''
        }));
        dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setMessage({
          message: res.message
        }));
      }
    })["catch"](function (err) {
      dispatch(_errorSlice__WEBPACK_IMPORTED_MODULE_3__.errorActions.setError({
        error: true
      }));
      dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setEmail({
        email: ''
      }));
      dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setPassword({
        password: ''
      }));
      dispatch(_signinSlice__WEBPACK_IMPORTED_MODULE_0__.signinActions.setMessage({
        message: res.message
      }));
    });
  };
};
var logout = function logout() {
  return function (dispatch) {
    fetch("".concat(_configuration__WEBPACK_IMPORTED_MODULE_2__.laravel_api, "signout"), {
      method: 'post',
      headers: {
        'Authorization': "Bearer ".concat(localStorage.getItem('access_token')),
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({})
    }).then(function (response) {
      return response.json();
    }).then(function (res) {
      if (res.status === 200) {
        localStorage.setItem('access_token', '');
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setEmail({
          email: ''
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setName({
          name: ''
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setDepartmentId({
          departmentId: ''
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setDivisionId({
          divisionId: ''
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setRole({
          role: ''
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setId({
          id: ''
        }));
        dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setSignedIn({
          isSignedIn: false
        }));
      }
    })["catch"](function (err) {
      dispatch(_errorSlice__WEBPACK_IMPORTED_MODULE_3__.errorActions.setError({
        error: true
      }));
      localStorage.setItem('access_token', '');
      dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setEmail({
        email: ''
      }));
      dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setName({
        name: ''
      }));
      dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setDepartmentId({
        departmentId: ''
      }));
      dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setDivisionId({
        divisionId: ''
      }));
      dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setRole({
        role: ''
      }));
      dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setId({
        id: ''
      }));
      dispatch(_userSlice__WEBPACK_IMPORTED_MODULE_1__.userActions.setSignedIn({
        isSignedIn: false
      }));
    });
  };
};

/***/ })

}]);